{% extends 'wubrgapp/base.html' %}

{% block title %}{{title}}{% endblock %}

{% block blurb %}
<!--This blurb is intentionally blank -->
{% endblock %}

{% block content %}
<br>
<div class="text-center">
    <span class="step-links">
        {% if cards.has_previous %}
            <a href="?page=1">&laquo; first</a>
            <a href="?page={{ cards.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ cards.number }} of {{ cards.paginator.num_pages }}
        </span>

        {% if cards.has_next %}
            <a href="?page={{ cards.next_page_number }}">next</a>
            <a href="?page={{ cards.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>

  {% for card in cards %}
      {% if forloop.first %}
        <div class="row" style="padding-top:15px;">
        {% endif %}
        <div class="col-sm-4" style="padding:50px;" >
            <a href="/browse/details/{{card.id}}?page={{page}}">
              {% if card.data.layout == "transform"  %}
                <img style="height:200px;" src="{{card.data.card_faces.0.image_uris.small}}" />
              {% elif card.data.layout == "planar" or card.data.layout == "split"  %}
                <img class="rotate" style="height:200px;" src="{{card.data.image_uris.small}}" />
              {% else %}
                <img style="height:200px;" src="{{card.data.image_uris.small}}" />
              {% endif %}
            <li style="list-style:none" class="collection-item">{{card.data.name}}</li>
          </a>
        </div>
      {% if forloop.counter|divisibleby:3 %}
        </div>
        <div class="row" style="padding-top:15px;">
      {% endif %}
    {% if forloop.last %}</div>{% endif %}
{% endfor %}

<div class="text-center">
    <span class="step-links">
        {% if cards.has_previous %}
            <a href="?page=1">&laquo; first</a>
            <a href="?page={{ cards.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ cards.number }} of {{ cards.paginator.num_pages }}
        </span>

        {% if cards.has_next %}
            <a href="?page={{ cards.next_page_number }}">next</a>
            <a href="?page={{ cards.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>
{% endblock %}
